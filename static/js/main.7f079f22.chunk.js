(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],[,,,,function(t,e,n){t.exports={modal:"TaskModal_modal__Vs10a",overlay:"TaskModal_overlay__1iMdN",descriptionInput:"TaskModal_descriptionInput__1qkp4",titleInput:"TaskModal_titleInput__3li-g",modalTaskBtnsContainer:"TaskModal_modalTaskBtnsContainer__1yjJm",label:"TaskModal_label__BJNqV",dropdown:"TaskModal_dropdown__1oetS",dropdownContent:"TaskModal_dropdownContent__2wj6x"}},function(t,e,n){t.exports={board:"Board_board__8npNI",boardHeader:"Board_boardHeader__OjfMz",addBtn:"Board_addBtn__XKKvj",addColumnForm:"Board_addColumnForm__rnzu6"}},function(t,e,n){t.exports={column:"Column_column__5bjLn",title:"Column_title__2XnMF",addTaskBtn:"Column_addTaskBtn__1w9hF",header:"Column_header__2JfKT"}},function(t,e,n){t.exports={taskList:"Task_taskList__3xjK3",task:"Task_task__2ZL6s",editBtn:"Task_editBtn__2OpVa"}},function(t,e,n){t.exports={boardTitleContainer:"BoardTitle_boardTitleContainer__3jq4u",boardTitle:"BoardTitle_boardTitle__2t--w",input:"BoardTitle_input__Tz0D9"}},,,,function(t,e,n){t.exports={buttonConteiner:"App_buttonConteiner__dkKTW",header:"App_header__1cavb"}},,function(t,e,n){t.exports={dropdown:"SwitchBoard_dropdown__2e9cN",dropdownContent:"SwitchBoard_dropdownContent__2MgK9"}},,,function(t,e,n){t.exports={button:"GreenButton_button__qYWqD"}},function(t,e,n){t.exports={button:"BlueButton_button__3sy6M"}},function(t,e,n){t.exports={button:"EditButton_button__3tJJe"}},function(t,e,n){t.exports={loader:"Kanban_loader__3Ob1l",spin:"Kanban_spin__2c6gX"}},,,,,,,function(t,e,n){},,,,,,,function(t,e,n){"use strict";n.r(e);var o=n(1),a=n(9),c=n.n(a),s=(n(27),n(3)),i=n(12),d=n.n(i),l=n(15),r=n(16),u=function(){function t(){Object(l.a)(this,t),this.mockBoards={currentBoardIndex:0,boards:[{title:"Quite important project",columns:[{title:"TO DO",position:1,taskList:[{title:"task1",position:1,description:"hahahaha"},{title:"task2",position:2,description:"hehehehe"}]},{title:"DOING",position:2,taskList:[{title:"task1",position:1,description:"hahahaha"},{title:"task2",position:2,description:"hehehehe"}]}]}]}}return Object(r.a)(t,[{key:"getMyBoards",value:function(){var t=this;return new Promise((function(e){setTimeout((function(){e(t.mockBoards)}),300)}))}},{key:"saveBoard",value:function(t){localStorage.setItem("board",JSON.stringify(t))}}]),t}(),j=n(17),b=n.n(j),x=n(0),m=function(t){return Object(x.jsx)("button",{className:b.a.button,onClick:t.onClick,children:t.children})},p=n(2),O=n(6),_=n.n(O),k=n(7),h=n.n(k),f=n(4),v=n.n(f),I=n(18),T=n.n(I),C=function(t){return Object(x.jsx)("button",{className:T.a.button,onClick:t.onClick,children:t.children})},B=function(t){var e=Object(o.useState)(t.taskCtn.title),n=Object(s.a)(e,2),a=n[0],c=n[1],i=Object(o.useState)(t.taskCtn.description),d=Object(s.a)(i,2),l=d[0],r=d[1],u=Object(p.c)((function(e){var n=e.boards[e.currentBoardIndex].columns.map((function(t,e){return{title:t.title,index:e}}));return n.splice(t.columnIndex,1),n}));return Object(x.jsxs)("from",{children:[Object(x.jsx)("div",{className:v.a.overlay}),Object(x.jsxs)("div",{className:v.a.modal,children:[Object(x.jsx)("label",{className:v.a.label,children:"Task title"}),Object(x.jsx)("input",{type:"text",className:v.a.titleInput,value:a,onChange:function(t){c(t.target.value)},ref:t.taskNameRef}),Object(x.jsx)("label",{className:v.a.label,children:"Task description"}),Object(x.jsx)("textarea",{type:"text",className:v.a.descriptionInput,value:l,onChange:function(t){r(t.target.value)},ref:t.taskDescriptionRef}),Object(x.jsxs)("div",{className:v.a.modalTaskBtnsContainer,children:[Object(x.jsx)(C,{onClick:function(){t.onSaveTask(a,l)},children:"\u2714"}),Object(x.jsx)(C,{onClick:function(){t.onClose()},children:"\u2716"}),Object(x.jsx)(C,{onClick:function(){t.onDeleteTask()},children:"Delete"}),Object(x.jsxs)("div",{className:v.a.dropdown,children:[Object(x.jsx)(C,{children:"Move to"}),Object(x.jsx)("div",{className:v.a.dropdownContent,children:u.map((function(e){return Object(x.jsx)("a",{onClick:function(){return n=e.index,void t.onMoveTask(a,l,n);var n},children:e.title})}))})]})]})]})]})},N=(n(33),n(19)),S=n.n(N),y=function(t){return Object(x.jsx)("button",{className:S.a.button,onClick:t.onClick,children:t.children})},E=function(t){var e=Object(o.useState)(!1),n=Object(s.a)(e,2),a=n[0],c=n[1],i=Object(o.useRef)(),d=Object(o.useRef)(),l=Object(p.b)();return Object(x.jsxs)("div",{className:h.a.taskList,children:[Object(x.jsx)("h4",{className:h.a.task,children:t.task.title}),Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{className:h.a.editBtn,onClick:function(){l({type:"MOVE_TASK_UP",columnIndex:t.columnIndex,taskIndex:t.taskIndex}),t.onSaveBoard()},children:"\ud83e\udc45"}),Object(x.jsx)("button",{className:h.a.editBtn,onClick:function(){l({type:"MOVE_TASK_DOWN",columnIndex:t.columnIndex,taskIndex:t.taskIndex}),t.onSaveBoard()},children:"\ud83e\udc47"}),Object(x.jsx)(y,{onClick:function(){c(!0)},children:"\ud83d\udd8a"})]}),a&&Object(x.jsx)(B,{taskCtn:t.task,onClose:function(){c(!1)},columnIndex:t.columnIndex,onSaveTask:function(e,n){l({type:"UPDATE_TASK",columnIndex:t.columnIndex,taskIndex:t.taskIndex,task:{title:e,position:t.task.position,description:n}}),c(!1),t.onSaveBoard()},onDeleteTask:function(){l({type:"DELETE_TASK",columnIndex:t.columnIndex,taskIndex:t.taskIndex}),t.onSaveBoard()},onMoveTask:function(e,n,o){l({type:"MOVE_TASK",columnIndex:t.columnIndex,taskIndex:t.taskIndex,targetColumnIndex:o,task:{title:e,position:t.task.position,description:n}}),t.onSaveBoard()},taskNameRef:i,taskDescriptionRef:d})]})},A=function(t){var e=Object(o.useState)(!1),n=Object(s.a)(e,2),a=n[0],c=n[1],i=Object(o.useState)(!1),d=Object(s.a)(i,2),l=d[0],r=d[1],u=Object(o.useState)(t.column.title),j=Object(s.a)(u,2),b=j[0],O=j[1],k=Object(p.b)();return Object(x.jsxs)("div",{className:_.a.column,children:[Object(x.jsxs)("div",{children:[!l&&Object(x.jsxs)("div",{className:_.a.header,children:[Object(x.jsx)("h3",{className:_.a.title,children:t.column.title}),Object(x.jsx)(y,{onClick:function(t){t.preventDefault(),r(!0)},children:"\ud83d\udd8a"})]}),l&&Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{type:"text",value:b,onChange:function(t){O(t.target.value)}}),Object(x.jsx)(m,{onClick:function(){k({type:"UPDATE_COLUMN",columnIndex:t.columnIndex,column:{title:b,position:t.column.length,taskList:t.column.taskList}}),r(!1),t.onSaveBoard()},children:"\u2714"}),Object(x.jsx)(m,{onClick:function(){r(!1)},children:"\u2716"}),Object(x.jsx)(m,{onClick:function(){k({type:"DELETE_COLUMN",columnIndex:t.columnIndex}),t.onSaveBoard()},children:"Delete"})]})]}),t.column.taskList.map((function(e,n){return Object(x.jsx)(E,{columnIndex:t.columnIndex,taskIndex:n,onSaveBoard:t.onSaveBoard,task:e},e.title)})),Object(x.jsx)("button",{className:_.a.addTaskBtn,onClick:function(){c(!0)},children:"+ add new task"}),a&&Object(x.jsx)(B,{onClose:function(){c(!1)},taskCtn:{},onSaveTask:function(e,n){k({type:"SAVE_NEW_TASK",columnIndex:t.columnIndex,task:{title:e,position:t.column.taskList.length,description:n}}),c(!1),t.onSaveBoard()}})]})},w=n(5),D=n.n(w),L=n(8),M=n.n(L),g=function(t){var e=Object(o.useState)(!1),n=Object(s.a)(e,2),a=n[0],c=n[1],i=Object(o.useState)(t.title),d=Object(s.a)(i,2),l=d[0],r=d[1];Object(o.useEffect)((function(){r(t.title)}),[t.title]);return Object(x.jsx)(x.Fragment,{children:a?Object(x.jsxs)("div",{className:M.a.boardTitleContainer,children:[Object(x.jsx)("input",{className:M.a.input,type:"text",value:l,onChange:function(t){r(t.target.value)}}),Object(x.jsx)(m,{onClick:function(){t.onSaveNewBoardTitle(l),c(!1)},children:"\u2714"}),Object(x.jsx)(m,{onClick:function(){c(!1)},children:"\u2716"}),Object(x.jsx)(m,{children:"Delete"})]}):Object(x.jsxs)("div",{className:M.a.boardTitleContainer,children:[Object(x.jsx)("h2",{className:M.a.boardTitle,children:l}),Object(x.jsx)(y,{onClick:function(){c(!0)},children:"\ud83d\udd8a"})]})})},K=n(14),V=n.n(K),U=function(t){var e=Object(p.c)((function(t){return t.boards})),n=Object(p.b)();return Object(x.jsxs)("div",{className:V.a.dropdown,children:[Object(x.jsx)(m,{children:"Switch board"}),Object(x.jsxs)("div",{className:V.a.dropdownContent,children:[e.map((function(t,e){return Object(x.jsx)("a",{onClick:function(){return function(t){n({type:"SWITCH_BOARD",newIndex:t})}(e)},children:t&&t.title})})),Object(x.jsx)("button",{onClick:function(){n({type:"SAVE_NEW_BOARD",board:{title:"New board",columns:[]}})},children:"+ add new board"})]})]})},R=function(t){var e=Object(o.useState)(!1),n=Object(s.a)(e,2),a=n[0],c=n[1],i=Object(o.useRef)(),d=Object(p.b)(),l=Object(p.c)((function(e){return e.boards?e.boards[t.boardId]:null})),r=function(){t.provider.saveBoard(l)};return Object(x.jsxs)("div",{children:[Object(x.jsxs)("div",{className:D.a.boardHeader,children:[Object(x.jsx)(U,{saveBoardToStorage:r}),Object(x.jsx)(g,{title:l.title,onSaveNewBoardTitle:function(t){d({type:"UPDATE_BOARD_TITLE",newTitle:t})}})]}),Object(x.jsxs)("div",{className:D.a.board,children:[l&&l.columns&&l.columns.map((function(t,e){return Object(x.jsx)(A,{column:t,onSaveBoard:r,columnIndex:e},t.position)})),!a&&Object(x.jsx)("button",{className:D.a.addBtn,onClick:function(){c(!0)},children:"+ add new column"}),a&&Object(x.jsxs)("form",{className:D.a.addColumnForm,children:[Object(x.jsx)("input",{type:"text",placeholder:"enter column name",ref:i}),Object(x.jsx)(m,{className:D.a.addColumnBtns,onClick:function(t){t.preventDefault();var e=i.current.value;d({type:"SAVE_COLUMN",column:{title:e,position:3,taskList:[]}}),c(!1),r()},children:"\u2714"}),Object(x.jsx)(m,{className:D.a.addColumnBtns,onClick:function(t){t.preventDefault(),c(!1)},children:"\u2716"})]})]})]})},W=n(20),P=n.n(W),J=function(t){var e=Object(p.b)(),n=Object(p.c)((function(t){return t}));return Object(o.useEffect)((function(){t.provider.getMyBoards().then((function(t){e({type:"INIT",boards:t})}))}),[]),Object(x.jsx)(x.Fragment,{children:n&&n.boards?Object(x.jsx)(R,{boardId:n.currentBoardIndex,provider:t.provider}):Object(x.jsx)("div",{className:P.a.loader})})},F=new u;var q=function(){var t=Object(o.useState)(!1),e=Object(s.a)(t,2),n=e[0],a=e[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{className:d.a.header,children:"KANBAN"}),!n&&Object(x.jsx)("div",{className:d.a.buttonConteiner,children:Object(x.jsx)(m,{onClick:function(){a(!0)},children:"Sign in with Google account"})}),n&&Object(x.jsx)(J,{provider:F})]})},H=n(22),z=n(21),G=Object(z.a)((function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,o=Object(H.a)({},e);return"INIT"===n.type?n.boards:(o.boards&&(t=o.boards[o.currentBoardIndex]),"SAVE_NEW_BOARD"===n.type&&(o.boards.push(n.board),o.currentBoardIndex=o.boards.length-1),"SWITCH_BOARD"===n.type&&(o.currentBoardIndex=n.newIndex),"UPDATE_BOARD_TITLE"===n.type&&(o.boards[o.currentBoardIndex].title=n.newTitle),"SAVE_NEW_TASK"===n.type&&t.columns[n.columnIndex].taskList.push(n.task),"UPDATE_TASK"===n.type&&t.columns[n.columnIndex].taskList.splice(n.taskIndex,1,n.task),"MOVE_TASK"===n.type&&(t.columns[n.columnIndex].taskList.splice(n.taskIndex,1),t.columns[n.targetColumnIndex].taskList.push(n.task)),"MOVE_TASK_UP"===n.type&&n.taskIndex>0&&t.columns[n.columnIndex].taskList.move(n.taskIndex,n.taskIndex-1),"MOVE_TASK_DOWN"===n.type&&n.taskIndex<t.columns[n.columnIndex].taskList.length-1&&t.columns[n.columnIndex].taskList.move(n.taskIndex,n.taskIndex+1),"DELETE_TASK"===n.type&&t.columns[n.columnIndex].taskList.splice(n.taskIndex,1),"SAVE_COLUMN"===n.type&&t.columns.push(n.column),"UPDATE_COLUMN"===n.type&&t.columns.splice(n.columnIndex,1,n.column),"DELETE_COLUMN"===n.type&&t.columns.splice(n.columnIndex,1),o)})),X=G;c.a.render(Object(x.jsx)(p.a,{store:X,children:Object(x.jsx)(q,{})}),document.getElementById("root"))}],[[34,1,2]]]);
//# sourceMappingURL=main.7f079f22.chunk.js.map